# CMPE 283 - Virtualization Technologies - Assignment 1 - Discovering VMX Features

To create a Linux kernel module that will query various MSRs to determine
virtualization features available in your CPU. This module will report (via the system message log) the
features it discovers.

### Professor's Name: Michael Larkin <br/>
### Submitted By: Darshini Venkatesha Murthy Nag <br/>
### Student ID: 016668951 <br/>

## Steps used to complete the assignment

* Download the cmpe-281.c and MakeFile from Canvas.<br/><br/>
* Implement the code changes in cmpe-281.c file. Commit the cmpe-281.c and MakeFile to the GitHub repository. <br/><br/>
* Install the VMware Workstation player or VMware Workstation Pro on your Windows machine. <br/><br/>
* Create a Ubuntu VM with virtual disk size 100GB. Customize the hardware settings under the processor tab and check the checkbox Virtualize Intel VT-x/EPT or AMD-V/RVI to enable nested virtualization.<br/><br/>
* Power on the Virtual Machine <br/><br/>
* Open the terminal. To Install git run the below command <br/>
  sudo apt install git<br/><br/>
* Install gcc and make using the below command <br/>
  sudo apt install gcc make<br/><br/>
* Install <br/>
  sudo apt install linux-headers-$(uname -r)<br/><br/>
* Clone the github repository using the below command <br/>
  git clone https://github.com/darshcloud/CMPE283-assignment-1.git <br/><br/>
* Go inside the repository directory and run the following commands to create a new kernel Module with assignment functionality <br/>
  make clean <br/>
  make<br/><br/>
* Insert the new module by running the below command <br/>
  sudo insmod cmpe283-1.ko<br/><br/>
* Verify the output in the system message log by running the below command<br/>
  sudo dmesg <br/><br/>

  Output log of Pinbased Controls
  ![Pinbased](https://user-images.githubusercontent.com/111547793/200163080-3ec9d2fe-1f49-4b3a-91f6-5d372ee467bc.png)<br/>

  Output log of Primary procbased controls 
  ![PrimaryProcbased](https://user-images.githubusercontent.com/111547793/200163196-0f52b7b1-d70e-46d2-bbc9-dfe792b10554.png)<br/>

* As the "Activate Tertiary controls" control is not set in primary procbased controls, the tertiary control capabilities are unavailable. <br/><br/>
* As the "Activate Secondary controls" control is set in primary procbased controls, the secondary control capabilities are available as shown below<br/>
  Output log of Secondary procbased Controls
  ![SecondaryProcbased](https://user-images.githubusercontent.com/111547793/200163209-a0e12c88-2a7c-431b-b613-6399b5cd148c.png)<br/>

  Output log of Exit controls
  ![ExitControls](https://user-images.githubusercontent.com/111547793/200163223-a77beea5-ac70-45b3-80c1-6c51a728ce5f.png)<br/>

  Output log of Entry controls
  ![EntryControls](https://user-images.githubusercontent.com/111547793/200163243-820b2d72-d1cd-413c-a3b7-c706f68a5fa9.png)<br/>

* Run the below command to remove the new kernel module<br/>
  sudo rmmod cmpe283-1.ko<br/><br/>
* Run the below command to delete all the files generated by the make command<br/>
  make clean



 




